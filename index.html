<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vegreferanse Historikk</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>


</head>


<body>
<div class="container">
    <header>
        <h1>Vegreferanse Historikk</h1>
        <p>Søk etter historiske vegreferanser basert på dagens referanse eller koordinater.</p>
        <br>
        <p>Vi minner om søsterløsning <a href="https://nvdb-vegdata.github.io/nvdb-vegrefkart/">vegrefkart</a>.</p>
    </header>

    <div class="alert alert-info" style="font-size: 1.3em; border: 2px solid #ccc; border-radius: 8px; padding: 10px; margin-bottom: 1em;">
        Det er kommet en ny versjon av denne løsningen på <a
            href="https://historiske-vegreferanser.atlas.vegvesen.no/" target="_blank">https://historiske-vegreferanser.atlas.vegvesen.no/</a>
    </div>


    <main>

        <!-- Add this in your <body>, where you want the map -->
        <!--        <div id="map" style="height: 200px;"></div>-->


        <div class="search-sections">
            <section class="search-section">
                <h2>Søk på vegreferanse</h2>
                <form id="vegrefForm" class="search-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="fylke">Fylke *</label>
                            <input type="number" id="fylke" name="fylke" value="8" min="1" max="99" required>
                        </div>
                        <div class="form-group">
                            <label for="kommune">Kommune</label>
                            <input type="text" id="kommune" name="kommune" placeholder="00" maxlength="2">
                        </div>
                        <div class="form-group">
                            <label for="kat">Kategori *</label>
                            <select id="kat" name="kat" required>
                                <option value="">Velg kategori</option>
                                <option value="E" selected>E - Europavei</option>
                                <option value="R">R - Riksvei</option>
                                <option value="F">F - Fylkesvei</option>
                                <option value="K">K - Kommunal vei</option>
                                <option value="P">P - Privat vei</option>
                                <option value="S">S - Skogsbilvei</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="stat">Status</label>
                            <select id="stat" name="stat">
                                <option value="V" selected>V - Eksisterende vei</option>
                                <option value="A">A - Arm</option>
                                <option value="B">B - Beredskapsvei</option>
                                <option value="E">E - Gang-/sykkelvei</option>
                                <option value="G">G - Gangvei</option>
                                <option value="H">H - Hovedvei</option>
                                <option value="M">M - Rampe</option>
                                <option value="P">P - Proposed</option>
                                <option value="Q">Q - Rundkjøring</option>
                                <option value="S">S - Sykkelvei</option>
                                <option value="T">T - Traktorvei</option>
                                <option value="U">U - Under bygging</option>
                                <option value="W">W - Vinterstengd</option>
                                <option value="X">X - Ikke eksisterende</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="vegnr">Vegnummer *</label>
                            <input type="number" id="vegnr" name="vegnr" value="18" min="1" max="99999" required>
                        </div>
                        <div class="form-group">
                            <label for="hp">Hovedparsell</label>
                            <input type="number" id="hp" name="hp" value="1" min="1" max="999">
                        </div>
                        <div class="form-group">
                            <label for="meter">Meter</label>
                            <input type="number" id="meter" name="meter" value="0" min="0" max="99999">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="vegrefForm_dato">Dato (YYYY-MM-DD)</label>
                            <input type="text" id="vegrefForm_dato" name="dato" placeholder="YYYY-MM-DD"
                                   pattern="\d{4}-\d{2}-\d{2}">
                        </div>
                    </div>
                    <button type="submit" class="btn-primary">Søk vegreferanse</button>
                    <button type="reset" class="btn-secondary">Nullstill skjema</button>
                </form>
            </section>

            <section class="search-section">
                <h2>Søk på koordinater</h2>
                <form id="posForm" class="search-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="easting">Øst-koordinat *</label>
                            <input type="number" id="easting" value="205060.17" name="easting" step="any" required
                                   placeholder="f.eks. 262650">
                        </div>
                        <div class="form-group">
                            <label for="northing">Nord-koordinat *</label>
                            <input type="number" id="northing" value="6560102.44" name="northing" step="any" required
                                   placeholder="f.eks. 6651180">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="posForm_dato">Dato (YYYY-MM-DD)</label>
                            <input type="text" id="posForm_dato" name="dato" placeholder="YYYY-MM-DD"
                                   pattern="\d{4}-\d{2}-\d{2}">
                        </div>
                    </div>
                    <button type="submit" class="btn-primary">Søk på koordinater</button>
                    <button type="reset" class="btn-secondary">Nullstill skjema</button>
                </form>
            </section>

            <div class="search-row">
                <section class="search-section">
                    <h2>Søk på lenkesekvensId@posisjon</h2>
                    <form id="lenkeForm" class="search-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="lenkesekvensId">LenkesekvensId *</label>
                                <input type="number" id="lenkesekvensId" name="lenkesekvensId" value="1060716" required
                                       placeholder="f.eks. 123456">
                            </div>
                            <div class="form-group">
                                <label for="posisjon">Posisjon *</label>
                                <input type="number" id="posisjon" name="posisjon" min="0" max="1"
                                       value="0.97171054113006394" step="any" required placeholder="f.eks. 0.3">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="lenkeForm_dato">Dato (YYYY-MM-DD)</label>
                                <input type="text" id="lenkeForm_dato" name="dato" placeholder="YYYY-MM-DD"
                                       pattern="\d{4}-\d{2}-\d{2}">
                            </div>
                        </div>
                        <button type="submit" class="btn-primary">Søk på lenkesekvensId og posisjon</button>
                        <button type="reset" class="btn-secondary">Nullstill skjema</button>
                    </form>
                </section>
            </div>
        </div>


        <section id="results" class="results-section">
            <!-- Resultater vises her -->
        </section>
    </main>
</div>

<script src="hentvegref.js"></script>
<script src="app.js"></script>
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        var map = L.map('map').setView([60.472, 8.4689], 5); // Centered on Norway
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);
    });
</script>

</body>
</html>
